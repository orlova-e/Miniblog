@using Web.ViewModels

@{
    ArticleReadViewModel articleReadModel = ViewBag.ArticleReadModel;
    CommentsViewModel commentsViewModel = ViewBag.CommentsViewModel;
    await Html.RenderPartialAsync("_ArticlePartial", articleReadModel);
    await Html.RenderPartialAsync("_CommentsPartial", commentsViewModel);
    await Html.RenderPartialAsync("_CommentTemplatePartial", articleReadModel.User);
}

<template id="anonymousUserImgTemplate">
    <avatar user="null" />
</template>

@if (User.Identity.IsAuthenticated && articleReadModel.User.Avatar is not null)
{
    <template id="userImgTemplate">
        <avatar user="articleReadModel.User" />
    </template>
}
